!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t():"function"==typeof define&&define.amd?define(t):t()}(0,function(){"use strict";"undefined"!=typeof document&&function(e){var t;function n(){t||(t=!0,e())}"complete"===document.readyState?e():(t=!1,document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1))}(function(){var i=!0,n=!1,o=null,u={checkbox:!0,radio:!0},t={ArrowDown:!0,ArrowLeft:!0,ArrowRight:!0,ArrowUp:!0,Tab:!0},d={Alt:!0,AltGraph:!0,CapsLock:!0,Control:!0,Meta:!0,NumLock:!0,Shift:!0};function r(e){return!(!e||e===document||"HTML"===e.nodeName||"BODY"===e.nodeName)}function e(e){i=!1}function c(){document.addEventListener("mousemove",s),document.addEventListener("mousedown",s),document.addEventListener("mouseup",s),document.addEventListener("pointermove",s),document.addEventListener("pointerdown",s),document.addEventListener("pointerup",s),document.addEventListener("touchmove",s),document.addEventListener("touchstart",s),document.addEventListener("touchend",s)}function s(e){"html"!==e.target.nodeName.toLowerCase()&&(i=!1,document.removeEventListener("mousemove",s),document.removeEventListener("mousedown",s),document.removeEventListener("mouseup",s),document.removeEventListener("pointermove",s),document.removeEventListener("pointerdown",s),document.removeEventListener("pointerup",s),document.removeEventListener("touchmove",s),document.removeEventListener("touchstart",s),document.removeEventListener("touchend",s))}document.addEventListener("keydown",function(e){if(r(document.activeElement)){if(d[e.key])return;"radio"===document.activeElement.type&&"Tab"!==e.key&&t[e.key]?setTimeout(function(){i=!0},1):i=!!t[e.key]}},!0),document.addEventListener("mousedown",e,!0),document.addEventListener("pointerdown",e,!0),document.addEventListener("touchstart",e,!0),document.addEventListener("focus",function(e){var t,n,o,d;r(e.target)&&i&&(n=e.target,o=n.type,d=n.tagName,(u[d]&&!n.readonly||"INPUT"==d&&u[o]&&!n.readonly||"true"==n.contentEditable)&&((t=e.target).classList.contains("focus-visible")||(t.classList.add("focus-visible"),t.setAttribute("data-focus-visible-added","")),i=!1))},!0),document.addEventListener("blur",function(e){var t;r(e.target)&&e.target.classList.contains("focus-visible")&&(n=!0,window.clearTimeout(o),o=window.setTimeout(function(){n=!1,window.clearTimeout(o)},100),(t=e.target).hasAttribute("data-focus-visible-added")&&(t.classList.remove("focus-visible"),t.removeAttribute("data-focus-visible-added")))},!0),document.addEventListener("visibilitychange",function(e){"hidden"==document.visibilityState&&(n&&(i=!0),c())},!0),c(),document.body.classList.add("js-focus-visible")})});
//# sourceMappingURL=focus-visible.min.js.map
